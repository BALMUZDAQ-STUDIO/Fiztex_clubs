<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Выбор класса</title>
</head>
<body>

<script>
    const data = {
  "first": {
    "5": { "AE": {}, "A": {}, "B": {}, "V": {}, "G": {}, "D": {}, "E": {}, "ZH": {} },
    "6": { "K": {}, "M": {} },
    "7": { "N": {}, "O": {}, "P": {} }
  },
  "second": {
    "5": { "L": {}, "R": {}, "S": {} },
    "6": { "T": {}, "U": {}, "F": {} },
    "7": { "H": {}, "I": {}, "J": {} }
  }
};

// Функция для объединения данных по классам для обеих смен
function getCombinedClassLetters(data) {
  const result = { first: {}, second: {} };

  // Обработаем обе смены отдельно
  ["first", "second"].forEach(shift => {
    let accumulatedLetters = [];

    // Проходим по каждому классу в порядке возрастания
    Object.keys(data[shift]).sort().forEach(classNum => {
      // Получаем текущие буквы для класса и добавляем их к предыдущим
      const currentLetters = Object.keys(data[shift][classNum]);
      accumulatedLetters = [...accumulatedLetters, ...currentLetters];
      
      // Сохраняем в result массив букв без дубликатов для текущей смены и класса
      result[shift][classNum] = [...new Set(accumulatedLetters)];
    });
  });

  return result;
}

// Вывод результата
console.log(getCombinedClassLetters(data));

</script>

</body>
</html>
